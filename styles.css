.heatmap-container {
	padding: 12px;
	font-family: var(--font-interface);
	--heatmap-cell-size: 12px;
	--heatmap-cell-gap: 2px;
	--heatmap-color-level-0: #ebedf0;
	--heatmap-color-level-1: #9be9a8;
	--heatmap-color-level-2: #40c463;
	--heatmap-color-level-3: #30a14e;
	--heatmap-color-level-4: #216e39;
	--heatmap-progress-fill: #40c463;
	--heatmap-progress-half: #30a14e;
	--heatmap-progress-complete: #216e39;
}

.heatmap-header h4 {
	margin: 0 0 10px 0;
	font-size: 14px;
}

.heatmap-stats {
	margin-bottom: 12px;
}

.today-stats {
	font-size: 13px;
}

.today-count {
	font-weight: 600;
	color: var(--text-normal);
}

.today-goal {
	color: var(--text-muted);
}

/* 进度条 */
.progress-container {
	margin-bottom: 15px;
}

.dh-progress-bar {
	width: 100%;
	height: 8px;
	background-color: var(--background-modifier-border);
	border-radius: 4px;
	overflow: hidden;
	margin-bottom: 5px;
}

.progress-fill {
	width: 0;
	height: 100%;
	background-color: var(--heatmap-progress-fill);
	border-radius: 4px;
	transition: width 0.3s ease;
}

.progress-fill.half {
	background-color: var(--heatmap-progress-half);
}

.progress-fill.complete {
	background-color: var(--heatmap-progress-complete);
}

.progress-text {
	font-size: 11px;
	color: var(--text-muted);
}

/* 热力图纵向布局 */
.heatmap-vertical {
	display: flex;
	flex-direction: column;
	gap: var(--heatmap-cell-gap);
}

.week-labels {
	display: flex;
	gap: var(--heatmap-cell-gap);
	margin-bottom: 4px;
}

.month-label-spacer {
	width: 30px;
	min-width: 30px;
}

.week-label {
	display: flex;
	align-items: center;
	justify-content: center;
	font-size: 9px;
	color: var(--text-muted);
	height: var(--heatmap-cell-size);
	width: var(--heatmap-cell-size);
}

.heatmap-grid {
	display: flex;
	flex-direction: column;
	gap: var(--heatmap-cell-gap);
}

.heatmap-week-row {
	display: flex;
	gap: var(--heatmap-cell-gap);
	align-items: center;
}

.month-side-label {
	width: 30px;
	min-width: 30px;
	font-size: 10px;
	font-weight: 500;
	color: var(--text-muted);
	text-align: left;
}

.heatmap-week {
	display: flex;
	gap: var(--heatmap-cell-gap);
}

.heatmap-day {
	width: var(--heatmap-cell-size);
	height: var(--heatmap-cell-size);
	border-radius: 2px;
	cursor: pointer;
	transition: transform 0.1s, box-shadow 0.1s;
}

.heatmap-day:hover {
	transform: scale(1.2);
	box-shadow: 0 0 4px rgba(0,0,0,0.3);
	z-index: 10;
}

.heatmap-day.empty {
	background-color: transparent !important;
	cursor: default;
}

.heatmap-day.today {
	outline: 2px solid var(--text-accent);
	outline-offset: 1px;
}

.heatmap-day.future {
	background-color: transparent !important;
	border: 1px dashed var(--text-faint);
	opacity: 0.3;
}

.heatmap-day.level-0 {
	background-color: var(--heatmap-color-level-0);
}

.heatmap-day.level-1 {
	background-color: var(--heatmap-color-level-1);
}

.heatmap-day.level-2 {
	background-color: var(--heatmap-color-level-2);
}

.heatmap-day.level-3 {
	background-color: var(--heatmap-color-level-3);
}

.heatmap-day.level-4 {
	background-color: var(--heatmap-color-level-4);
}

/* 图例 */
.heatmap-legend {
	display: flex;
	align-items: center;
	gap: 4px;
	margin-top: 15px;
	font-size: 10px;
	color: var(--text-muted);
}

.legend-item {
	border-radius: 2px;
	width: var(--heatmap-cell-size);
	height: var(--heatmap-cell-size);
}

.legend-item.level-0 {
	background-color: var(--heatmap-color-level-0);
}

.legend-item.level-1 {
	background-color: var(--heatmap-color-level-1);
}

.legend-item.level-2 {
	background-color: var(--heatmap-color-level-2);
}

.legend-item.level-3 {
	background-color: var(--heatmap-color-level-3);
}

.legend-item.level-4 {
	background-color: var(--heatmap-color-level-4);
}

/* 年度统计 */
.year-stats {
	margin-top: 15px;
	padding-top: 12px;
	border-top: 1px solid var(--background-modifier-border);
}

.stats-item {
	font-size: 12px;
	color: var(--text-muted);
	margin-bottom: 4px;
}

.stats-item.streak {
	color: var(--text-accent);
	font-weight: 500;
}
